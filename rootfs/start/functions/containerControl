containerControl(){
   local isFirstRun=$1
   readEnvironmentVars
   local finalUser=$VAR_LINUX_USER
   if [ "$isFirstRun" == "true" ]
   then
      createLinuxUser
      updateSudoersConf
      fixHosts
      makeAllFromList "$(allVars noquote)"
      fixPermissionsForUsrLocalBin
      local finalCmdString="$VAR_FINAL_COMMAND &"
      /bin/chgrp -R $finalUser /stop /usr/local/bin /start /tmp /bin/* /usr/bin/*
      tryRunStage 3
      {
         eval "echo -e \"$finalCmdString\""
         echo 'PID=$!'
         echo 'wait $PID'
         echo 'for sig in 1 2 3 6 9 14 15; do trap - $sig; done'
         echo 'wait $PID'
         echo 'EXIT_STATUS=$?'
      } >> /stop/stage1
      if [ "$finalUser" != "$VAR_LINUX_USER" ]
      then
         /bin/chgrp -R $finalUser /stop /usr/local/bin /start /tmp /bin/* /usr/bin/*
      fi
   else
      tryRunStage 3
   fi
   allVars quote > /environment/vars
   execCmdAsUser /stop/stage1 $finalUser
}
